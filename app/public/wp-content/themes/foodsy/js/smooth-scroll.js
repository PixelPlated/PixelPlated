class MagicScroll{constructor(t){if(Object.assign(this,t),this.targetIsDocument=!1,this.target||(this.targetIsDocument=!0,this.target=document.scrollingElement||document.documentElement||document.body.parentNode||document.body),this.target.classList.add("smooth-scroll"),this.motionElement=document.getElementsByClassName("content-area")[0],this.isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,this.isSafari=(navigator.vendor.match(/apple/i)||"").length>0,this.isSafari)return;switch(this.scrollingFast=!1,this.target.dataset.scrollSpeed){case"fast":this.speed=80,this.smooth=8,this.accelerationDelta=60,this.stepSize=6;break;case"slow":this.speed=260,this.smooth=20,this.accelerationDelta=150,this.stepSize=8;break;default:this.speed=150,this.smooth=14,this.accelerationDelta=40,this.stepSize=3}var e=window.devicePixelRatio;1!==e&&(this.speed=this.speed/e,this.smooth=this.smooth*e,this.accelerationDelta=this.accelerationDelta/e,this.stepSize=this.stepSize/e),this.horizontal="true"===this.target.dataset.horizontalScroll,this.blurEffect="true"===this.target.dataset.blurEffect,this.skewEffect="true"===this.target.dataset.skewEffect,this.scaleEffect="true"===this.target.dataset.scaleEffect,this.blurEffect=!1,this.skewEffect=!1,this.scaleEffect=!1,this.isOverflowHidden=!1,this.horizontal?this.pos=this.current||window.document.scrollingElement.scrollLeft:this.pos=this.current||window.document.scrollingElement.scrollTop,this.frame=this.target===document.body&&document.documentElement?document.documentElement:this.target,this.min=this.min||0,this.horizontal?this.max=this.target.scrollWidth-this.target.clientWidth:this.max=this.target.scrollHeight-this.target.clientHeight,this.moving=!1,this.horizontal?this.target.scrollLeft=this.pos:this.target.scrollTop=this.pos,this.target.addEventListener("mousewheel",i,{passive:!1}),this.target.addEventListener("DOMMouseScroll",i,{passive:!1}),this.target.addEventListener("scroll",t=>{this.moving||(this.horizontal?this.pos=t.target.scrollLeft:this.pos=t.target.scrollTop)},{passive:!1});let s=this;function i(t){if(s.isOverflowHidden="hidden"===s.target.style.overflow,!s.isOverflowHidden){t.preventDefault();var e=s.normalizeWheelDelta(t);s.pos+=-e*s.speed*(s.stepSize/10),s.pos=Math.max(0,Math.min(s.pos,s.max)),s.moving||s.update()}}this.scrollbarActive=!1;var l=function(t){if(Window.outerWidth<=t)return!0};this.targetIsDocument&&(document.onmousedown=function(t){s.horizontal?s.target.clientHeight<=t.clientY&&(s.scrollbarActive=!0):s.target.clientWidth<=t.clientX&&(s.scrollbarActive=!0)},document.onmouseup=function(){s.scrollbarActive=!1},document.addEventListener("scroll",t=>{s.moving||(this.horizontal?s.pos=window.document.scrollingElement.scrollLeft:s.pos=window.document.scrollingElement.scrollTop)},{passive:!1}));var a=function(){s.horizontal?s.max=s.target.scrollWidth-s.target.clientWidth:s.max=s.target.scrollHeight-s.target.clientHeight},o=null;window.addEventListener("resize",function(){clearTimeout(o),o=setTimeout(a,300)}),window.addEventListener("load",t=>{clearTimeout(o),o=setTimeout(a,300)})}normalizeWheelDelta(t){return t.detail?t.wheelDelta?t.wheelDelta/t.detail/40*(t.detail>0?1:-1):-t.detail/3:t.wheelDelta/this.accelerationDelta}update(){if(this.moving=!0,this.endScroll=!1,this.horizontal){var t=(this.pos-14-this.target.scrollLeft)/this.smooth;this.target.scrollLeft+=t,this.max=this.target.scrollWidth-this.target.clientWidth+42,(0==this.target.scrollLeft||this.target.scrollLeft>=this.max-43)&&(this.endScroll=!0)}else{var t=(this.pos-14-this.target.scrollTop)/this.smooth;this.target.scrollTop+=t,this.max=this.target.scrollHeight-this.target.clientHeight+28,(0==this.target.scrollTop||this.target.scrollTop>=this.max-29)&&(this.endScroll=!0)}this.isOverflowHidden="hidden"===this.target.style.overflow;let e=this;!(Math.abs(t)>1)||e.scrollbarActive||e.isOverflowHidden||this.endScroll?(this.moving=!1,this.scrollingFast=!1,this.target.classList.remove("scrolling"),this.blurEffect,(this.skewEffect||this.scaleEffect)&&(this.motionElement.style.transform="none")):requestFrame(()=>{e.target.classList.add("scrolling"),Math.abs(t)>16&&(this.scrollingFast=!0);var s="";e.blurEffect&&this.scrollingFast&&(this.motionElement.style.filter="blur(calc(("+Math.abs(t)+" / 12) * 1px))"),e.skewEffect&&this.scrollingFast&&(e.horizontal?s+=" skewX(calc(("+t+" / 20) * 1deg))":s+=" skewY(calc(("+t+" / 24) * 1deg))"),e.scaleEffect&&this.scrollingFast&&(e.horizontal?s+=" scaleY("+(1-Math.abs(t)/400)+")":s+=" scaleX("+(1-t/600)+")"),""!==s&&!this.isFirefox&&this.scrollingFast&&(this.motionElement.style.transform=s),e.update()})}}var requestFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,100)};window.addEventListener("DOMContentLoaded",t=>{new MagicScroll({})});
